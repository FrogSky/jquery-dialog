<!DOCTYPE html>
<html>
	<head>
		<title>Best dialog ever demo</title>
		<link rel="stylesheet" type="text/css" href="./dialog.css"/>
		<link rel="stylesheet" type="text/css" href="./sunlight.default.css"/>
		<style type="text/css">
			body {
				font-family: sans-serif;
				font-size: 16px;
			}
			#examples {
				margin: 0;
				padding: 0;
				list-style: none;
			}
			#examples h2 {
				font-size: 20px;
				font-weight: bold;
			}
			#examples h2 button {
				margin-left: 10px;
			}
			#examples .sunlight-container  {
				width: 500px;
			}
		</style>
	</head>
	<body>
		<script type="text/javascript" src="./jquery.min.js"></script>
		<script type="text/javascript" src="./sunlight-min.js"></script>
		<script type="text/javascript" src="./sunlight.javascript-min.js"></script>
		<script type="text/javascript" src="./jquery.dialog.js"></script>
		<script type="text/javascript">
			(function() {
				var defaults = {
					body: 'oh hai mark!',
					title: 'Just a little dialog',
					show: true,
					onShowing: function(callback) {
						$('.dialog-container').dialog('hide');
						callback();
					}
				};

				var examples = {
					boring: {
						name: 'Default dialog'
					},
					'no-title': {
						name: 'No title',
						options: { title: '' }
					},
					'no-close-x': {
						name: 'No close "X" (press ESC to close)',
						options: { closeX: false }
					},
					dimensions: {
						name: 'With custom dimensions',
						options: { width: 300, height: 200 }
					},
					'static': {
						name: 'Won\'t move around when you resize the window',
						options: { dynamic: false }
					},
					'no-escape': {
						name: 'Don\'t close dialog on ESC',
						options: { closeOnEscape: false }
					},
					modal: {
						name: 'Modal',
						options: { modal: true }
					},
					'modal-no-fade': {
						name: 'Modal without mask animation',
						options: { modal: true, transitionMask: false }
					},
					'modal-no-mask-click': {
						name: 'Modal, don\'t close when you click on the mask',
						options: { modal: true, closeOnMaskClick: false }
					},
					'close-button': {
						name: 'Close button',
						options: { buttons: { close: 'Close me!' } }
					},
					'ok-button': {
						name: 'Other built-in buttons',
						options: { buttons: { ok: 'OK', cancel: 'Cancel' } }
					},
					'allow-background-scrolling': {
						name: 'Background scrolling with modal',
						options: { modal: true, allowScrolling: true }
					},
					'long-modal': {
						name: 'Modal with really long content',
						options: { modal: true, height: 2000, dynamic: false }
					}
				};

				var $ul = $('<ul/>').attr('id', 'examples').appendTo('body');
				for (var id in examples) {
					var data = examples[id],
						options = $.extend({}, defaults, data.options || {}),
						code = '$("#' + id + '").click(function() {\n' +
							'  $.dialog(' + JSON.stringify(options, null, 2).replace(/\n/g, '\n  ') + ');\n' +
							'});';

					$('<li/>')
						.append($('<h2/>').text(data.name).append($('<button/>')
							.attr('id', id)
							.text('Launch dialog')))
						.append($('<pre/>').addClass('sunlight-highlight-javascript').text(code))
						.appendTo($ul);

					$('#' + id).click((function(options) {
						return function() {
							$.dialog(options);
						};
					}(options)));
				}

				function theCode() {
					$('#stacked').click(function() {
						$.dialog({
							title: 'Dialog #1',
							show: true,
							modal: true,
							width: 500,
							height: 500,
							buttons: { close: 'Close #1' },
							body: $('<button/>').text('Launch another dialog').click(function() {
								$.dialog({
									title: 'Dialog #2',
									show: true,
									modal: true,
									width: 400,
									height: 400,
									buttons: { close: 'Close #2' },
									body: $('<button/>').text('Launch yet another dialog').click(function() {
										$.dialog({
											title: 'Dialog #3',
											width: 300,
											height: 300,
											show: true,
											modal: true,
											body: 'Oh hi there!',
											buttons: { close: 'Close #3' }
										});
									})
								});
							})
						});
					});
				}

				code = theCode.toString()
					.replace(/\t+/g, function(tabs) { return new Array(tabs.length - 5 + 1).join('  '); })
					.split('\n')
					.slice(1, -1)
					.join('\n');

				$('<li/>')
					.append($('<h2/>').text('Stacked modals').append($('<button/>')
						.attr('id', 'stacked')
						.text('Launch dialog')))
					.append($('<pre/>').addClass('sunlight-highlight-javascript').text(code))
					.appendTo($ul);


				theCode();

				window.Sunlight.highlightAll();
			}());
		</script>
	</body>
</html>
